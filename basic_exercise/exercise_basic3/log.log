LAMMPS (2 Aug 2023)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# 2d friction due to surface asperities

# ---------------
# settings
# ---------------

dimension	2
boundary	p s p

atom_style	atomic
neighbor	0.3 bin
neigh_modify	delay 5

# ---------------
# create simulation box
# ---------------

lattice		hex 0.9
Lattice spacing in x,y,z = 1.1326962 1.9618873 1.1326962
region		box block 0 50 0 22 -0.25 0.25
create_box	4 box
Created orthogonal box = (0 0 -0.28317404) to (56.634808 43.161521 0.28317404)
  1 by 1 by 1 MPI processor grid

mass		* 1.0

# ---------------
# create upper and lower surfaces of atoms
# ---------------

region          lo-fixed block INF INF INF 1.1 INF INF
region          lo-slab block INF INF INF 7 INF INF
region          above-lo block INF INF INF 7 INF INF side out

region          hi-fixed block INF INF 20.9 INF INF INF
region          hi-slab block INF INF 15 INF INF INF
region          below-hi block INF INF 15 INF INF INF side out

create_atoms	1 region lo-slab
Created 750 atoms
  using lattice units in orthogonal box = (0 -0.0043161521 -0.28317404) to (56.634808 43.165837 0.28317404)
  create_atoms CPU = 0.001 seconds
create_atoms	1 region hi-slab
Created 750 atoms
  using lattice units in orthogonal box = (0 -0.0043161521 -0.28317404) to (56.634808 43.165837 0.28317404)
  create_atoms CPU = 0.000 seconds

# ---------------
# create half-sphere asperities on each surface
# ---------------

# TASK 2: last argument of next 2 lines is the radius
#         of the lower and upper asperities,
#         change either or both of the values
#         NOTE: making both 10 is too large (they overlap)

region		lo-asperity sphere 32 7 0 8
region		hi-asperity sphere 18 15 0 8
region		lo-bump intersect 2 lo-asperity above-lo
region		hi-bump intersect 2 hi-asperity below-hi

# TASK 4: un-comment the next 2 lines
#         you MUST also comment out the previous 4 lines

#region		lo-bump block 28 36 7.8 12 INF INF
#region		hi-bump block 14 22 10 14.8 INF INF

create_atoms	2 region lo-bump
Created 112 atoms
  using lattice units in orthogonal box = (0 -0.0043161521 -0.28317404) to (56.634808 43.165837 0.28317404)
  create_atoms CPU = 0.000 seconds
create_atoms	3 region hi-bump
Created 112 atoms
  using lattice units in orthogonal box = (0 -0.0043161521 -0.28317404) to (56.634808 43.165837 0.28317404)
  create_atoms CPU = 0.000 seconds

# ---------------
# LJ potential
# ---------------

pair_style	lj/cut 2.5
pair_coeff	* * 1.0 1.0 2.5

# ---------------
# define groups and change atom types
# ---------------

group	        lo region lo-slab
750 atoms in group lo
group		lo type 2
862 atoms in group lo
group		hi region hi-slab
750 atoms in group hi
group		hi type 3
862 atoms in group hi
group		lo-fixed region lo-fixed
150 atoms in group lo-fixed
group		hi-fixed region hi-fixed
150 atoms in group hi-fixed
group		boundary union lo-fixed hi-fixed
300 atoms in group boundary
group		mobile subtract all boundary
1424 atoms in group mobile

set		group lo-fixed type 4
Setting atom values ...
  150 settings made for type
set		group hi-fixed type 4
Setting atom values ...
  150 settings made for type

# ---------------
# initial velocities
# ---------------

compute         ydim mobile temp/partial 0 1 0
velocity	mobile create 0.1 482748 temp ydim
velocity	hi set 1.0 0.0 0.0 sum yes

# ---------------
# fixes to drag one surf across the other
# ---------------

fix		1 all nve
fix		2 boundary setforce 0.0 0.0 0.0
fix		3 mobile temp/rescale 200 0.1 0.1 0.02 1.0
fix_modify	3 temp ydim

fix             4 all enforce2d

# ---------------
# output
# ---------------

thermo		1000
thermo_modify	temp ydim
WARNING: Temperature for thermo pressure is not for group all (src/thermo.cpp:527)

dump		1 all atom 500 dump.friction

dump		2 all image 500 image.*.jpg type type 		zoom 1.6 adiam 1.5
dump_modify	2 pad 5

# command for Mac and Linux
dump		3 all movie 500 movie.mpg type type 		zoom 1.6 adiam 1.5

# command for Windows
#dump            3 all movie 500 movie.avi type type #                zoom 1.6 adiam 1.5

dump_modify	3 pad 5

# ---------------
# run
# ---------------

# TASK 3: double the run length (number of steps)

timestep	0.0025
run		40000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 5 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 2.8
  ghost atom cutoff = 2.8
  binsize = 1.4, bins = 41 31 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair lj/cut, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/2d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 3.059 | 3.059 | 3.059 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0.1           -3.1333672      0             -3.0920969     -1.1437663      2444.9333    
      1000   0.1           -3.0915072      0             -3.0502369      0.0099866805   2444.9333    
      2000   0.1           -3.0826007      0             -3.0413304     -0.41998885     2444.9333    
      3000   0.08982505    -3.0757908      0             -3.0387197     -0.25244271     2444.9333    
      4000   0.098727892   -3.0666371      0             -3.0258918     -0.25382683     2444.9333    
      5000   0.11345478    -3.0506905      0             -3.0038674     -0.029177812    2444.9333    
      6000   0.11386723    -3.0515296      0             -3.0045363     -0.32135016     2444.9333    
      7000   0.11555642    -3.0379879      0             -2.9902974     -0.40431666     2444.9333    
      8000   0.10658282    -3.0364048      0             -2.9924178     -0.45722834     2444.9333    
      9000   0.11650947    -3.0271611      0             -2.9790773     -0.4588819      2444.9333    
     10000   0.10575546    -3.0298463      0             -2.9862007     -0.35241095     2444.9333    
     11000   0.10953331    -3.0352955      0             -2.9900908     -0.4622173      2444.9333    
     12000   0.11720787    -3.0378371      0             -2.989465      -0.27733023     2444.9333    
     13000   0.11492573    -3.037974       0             -2.9905438     -0.43259084     2444.9333    
     14000   0.11125454    -3.0413758      0             -2.9954607     -0.31244429     2444.9333    
     15000   0.10882772    -3.0406062      0             -2.9956927     -0.30403665     2444.9333    
     16000   0.1152685     -3.0433936      0             -2.9958219     -0.26659294     2444.9333    
     17000   0.10840025    -3.0414208      0             -2.9966837     -0.36183887     2444.9333    
     18000   0.11159326    -3.0416392      0             -2.9955843     -0.22725121     2444.9333    
     19000   0.11530974    -3.0457005      0             -2.9981118     -0.36488457     2444.9333    
     20000   0.1131733     -3.0417814      0             -2.9950744     -0.27902539     2444.9333    
     21000   0.10964943    -3.0459816      0             -3.0007289     -0.32642368     2444.9333    
     22000   0.11579562    -3.0460004      0             -2.9982112     -0.36252597     2444.9333    
     23000   0.11497374    -3.0437346      0             -2.9962846     -0.31415739     2444.9333    
     24000   0.11499369    -3.0459968      0             -2.9985386     -0.35430228     2444.9333    
     25000   0.1           -3.0444134      0             -3.0031431     -0.30453438     2444.9333    
     26000   0.11257681    -3.0459853      0             -2.9995245     -0.37708731     2444.9333    
     27000   0.11836621    -3.0404283      0             -2.9915782     -0.25836854     2444.9333    
     28000   0.11415312    -3.0394894      0             -2.9923781     -0.4143001      2444.9333    
     29000   0.11515957    -3.0399501      0             -2.9924234     -0.32586209     2444.9333    
     30000   0.1           -3.036735       0             -2.9954647     -0.34648383     2444.9333    
     31000   0.11232745    -3.03592        0             -2.9895621     -0.28143079     2444.9333    
     32000   0.11077816    -3.0352535      0             -2.9895351     -0.35458864     2444.9333    
     33000   0.10335349    -3.041269       0             -2.9986147     -0.29046794     2444.9333    
     34000   0.11094825    -3.0407253      0             -2.9949366     -0.36161302     2444.9333    
     35000   0.11216627    -3.0437551      0             -2.9974637     -0.29613259     2444.9333    
     36000   0.11073419    -3.044826       0             -2.9991257     -0.31698368     2444.9333    
     37000   0.10614621    -3.0398977      0             -2.9960908     -0.36421698     2444.9333    
     38000   0.11355172    -3.0489606      0             -3.0020975     -0.29222175     2444.9333    
     39000   0.1144199     -3.0450835      0             -2.997862      -0.34980362     2444.9333    
     40000   0.1142831     -3.0494393      0             -3.0022743     -0.28100795     2444.9333    
Loop time of 10.8055 on 1 procs for 40000 steps with 1724 atoms

Performance: 799594.282 tau/day, 3701.825 timesteps/s, 6.382 Matom-step/s
97.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.7975     | 6.7975     | 6.7975     |   0.0 | 62.91
Neigh   | 0.42301    | 0.42301    | 0.42301    |   0.0 |  3.91
Comm    | 0.058464   | 0.058464   | 0.058464   |   0.0 |  0.54
Output  | 2.3918     | 2.3918     | 2.3918     |   0.0 | 22.14
Modify  | 0.90072    | 0.90072    | 0.90072    |   0.0 |  8.34
Other   |            | 0.234      |            |       |  2.17

Nlocal:           1724 ave        1724 max        1724 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            141 ave         141 max         141 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:          14381 ave       14381 max       14381 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 14381
Ave neighs/atom = 8.3416473
Neighbor list builds = 1448
Dangerous builds = 0
Total wall time: 0:00:10
